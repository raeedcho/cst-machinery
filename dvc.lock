schema: '2.0'
stages:
  extract_dwight@2025-01-07-reward-type_medium_cst-rtt-dco:
    cmd: python scripts/extract_trial_frame.py --path 
      data/dwight/2025-01-07/Dwight_2025-01-07_reward-type_medium_cst-rtt-dco_sorted.mat
      --out 
      results/dwight/2025-01-07/Dwight_2025-01-07_reward-type_medium_cst-rtt-dco_tf.pkl
      --block reward-type_medium_cst-rtt-dco --bin_size 10ms
    deps:
    - path: 
        data/dwight/2025-01-07/Dwight_2025-01-07_reward-type_medium_cst-rtt-dco_sorted.mat
      hash: md5
      md5: ff17229ed7166de03a6d8a95c5d43f70
      size: 357282032
    params:
      params.yaml:
        extract.bin_size: 10ms
    outs:
    - path: 
        results/dwight/2025-01-07/Dwight_2025-01-07_reward-type_medium_cst-rtt-dco_tf.pkl
      hash: md5
      md5: d46b5e190d5729b5a8b27058f91e1d19
      size: 57849219
  extract_dwight@2025-01-07-reward-type_medium-large_cst-rtt-dco:
    cmd: python scripts/extract_trial_frame.py --path 
      data/dwight/2025-01-07/Dwight_2025-01-07_reward-type_medium-large_cst-rtt-dco_sorted.mat
      --out 
      results/dwight/2025-01-07/Dwight_2025-01-07_reward-type_medium-large_cst-rtt-dco_tf.pkl
      --block reward-type_medium-large_cst-rtt-dco --bin_size 10ms
    deps:
    - path: 
        data/dwight/2025-01-07/Dwight_2025-01-07_reward-type_medium-large_cst-rtt-dco_sorted.mat
      hash: md5
      md5: 6ebab48109d40b8a66355172b0826861
      size: 1501593328
      isexec: true
    params:
      params.yaml:
        extract.bin_size: 10ms
    outs:
    - path: 
        results/dwight/2025-01-07/Dwight_2025-01-07_reward-type_medium-large_cst-rtt-dco_tf.pkl
      hash: md5
      md5: 042d6dbbc9335a7aa26e61d5e549c63d
      size: 170816964
  extract_dwight@2025-01-07-reward-type-choice:
    cmd: python scripts/extract_trial_frame.py data/dwight/2025-01-07/Dwight_2025-01-07_reward-type-choice_sorted.mat
      --out 
      results/trialframe/Dwight/2025-01-07/blocks/Dwight_2025-01-07_reward-type-choice_tf.pkl
      --block reward-type-choice --bin_size 10ms --min_firing_rate 0.1 --max_spike_coincidence
      0.2 --verbose
    deps:
    - path: /Users/raeed/codebase/0-projects/smile-extraction/smile_extract
      hash: md5
      md5: 69bb9c5a3f2a4b86ac90ce3a43c0587d.dir
      size: 77373
      nfiles: 27
    - path: data/dwight/2025-01-07/Dwight_2025-01-07_reward-type-choice_sorted.mat
      hash: md5
      md5: bc01f906a700ba664a6a1abb43479976
      size: 532558654
    - path: scripts/extract_trial_frame.py
      hash: md5
      md5: bfc4a7aecd418c21f1f2d0734d7b7577
      size: 2105
    params:
      params.yaml:
        extract:
          bin_size: 10ms
          min_firing_rate: 0.1
          max_spike_coincidence: 0.2
          verbose: true
    outs:
    - path: 
        results/trialframe/Dwight/2025-01-07/blocks/Dwight_2025-01-07_reward-type-choice_tf.log
      hash: md5
      md5: b8d3420d3f48adaba6b6cd932e56bb39
      size: 521
    - path: 
        results/trialframe/Dwight/2025-01-07/blocks/Dwight_2025-01-07_reward-type-choice_tf.pkl
      hash: md5
      md5: 9a5f5c72ba1d7f87e3afc627f372778a
      size: 76874065
  extract_dwight@2025-01-07-reward-type-medium-cst-rtt-dco:
    cmd: python scripts/extract_trial_frame.py 
      data/dwight/2025-01-07/Dwight_2025-01-07_reward-type-medium-cst-rtt-dco_sorted.mat
      --out 
      results/trialframe/Dwight/2025-01-07/blocks/Dwight_2025-01-07_reward-type-medium-cst-rtt-dco_tf.pkl
      --block reward-type-medium-cst-rtt-dco --bin_size 10ms --min_firing_rate 0.1
      --max_spike_coincidence 0.2 --verbose
    deps:
    - path: /Users/raeed/codebase/0-projects/smile-extraction/smile_extract
      hash: md5
      md5: 69bb9c5a3f2a4b86ac90ce3a43c0587d.dir
      size: 77373
      nfiles: 27
    - path: 
        data/dwight/2025-01-07/Dwight_2025-01-07_reward-type-medium-cst-rtt-dco_sorted.mat
      hash: md5
      md5: ff17229ed7166de03a6d8a95c5d43f70
      size: 357282032
    - path: scripts/extract_trial_frame.py
      hash: md5
      md5: bfc4a7aecd418c21f1f2d0734d7b7577
      size: 2105
    params:
      params.yaml:
        extract:
          bin_size: 10ms
          min_firing_rate: 0.1
          max_spike_coincidence: 0.2
          verbose: true
    outs:
    - path: 
        results/trialframe/Dwight/2025-01-07/blocks/Dwight_2025-01-07_reward-type-medium-cst-rtt-dco_tf.log
      hash: md5
      md5: e50acea15d99cb653219db4f414752dc
      size: 557
    - path: 
        results/trialframe/Dwight/2025-01-07/blocks/Dwight_2025-01-07_reward-type-medium-cst-rtt-dco_tf.pkl
      hash: md5
      md5: e42aa7d6efb72c28f9422a189a212368
      size: 51293765
  extract_dwight@2025-01-07-reward-type-medium-large-cst-rtt-dco:
    cmd: python scripts/extract_trial_frame.py 
      data/dwight/2025-01-07/Dwight_2025-01-07_reward-type-medium-large-cst-rtt-dco_sorted.mat
      --out 
      results/trialframe/Dwight/2025-01-07/blocks/Dwight_2025-01-07_reward-type-medium-large-cst-rtt-dco_tf.pkl
      --block reward-type-medium-large-cst-rtt-dco --bin_size 10ms --min_firing_rate
      0.1 --max_spike_coincidence 0.2 --verbose
    deps:
    - path: /Users/raeed/codebase/0-projects/smile-extraction/smile_extract
      hash: md5
      md5: 69bb9c5a3f2a4b86ac90ce3a43c0587d.dir
      size: 77373
      nfiles: 27
    - path: 
        data/dwight/2025-01-07/Dwight_2025-01-07_reward-type-medium-large-cst-rtt-dco_sorted.mat
      hash: md5
      md5: 6ebab48109d40b8a66355172b0826861
      size: 1501593328
    - path: scripts/extract_trial_frame.py
      hash: md5
      md5: bfc4a7aecd418c21f1f2d0734d7b7577
      size: 2105
    params:
      params.yaml:
        extract:
          bin_size: 10ms
          min_firing_rate: 0.1
          max_spike_coincidence: 0.2
          verbose: true
    outs:
    - path: 
        results/trialframe/Dwight/2025-01-07/blocks/Dwight_2025-01-07_reward-type-medium-large-cst-rtt-dco_tf.log
      hash: md5
      md5: 60183a8ecbaa49595d03c5d55421d6ba
      size: 575
    - path: 
        results/trialframe/Dwight/2025-01-07/blocks/Dwight_2025-01-07_reward-type-medium-large-cst-rtt-dco_tf.pkl
      hash: md5
      md5: 70bfc3be1aba667bf723505f17884cac
      size: 153683477
  combine_session@0:
    cmd: python scripts/combine_session.py results/trialframe/Dwight/2025-01-07/blocks/
      --out results/trialframe/Dwight/2025-01-07/Dwight_2025-01-07_tf.pkl --verbose
    deps:
    - path: results/trialframe/Dwight/2025-01-07/blocks/
      hash: md5
      md5: 56a1e5edb8ad9fc4c522f3464190dbee.dir
      size: 281853290
      nfiles: 7
    - path: scripts/combine_session.py
      hash: md5
      md5: 9ef3b966141d1b2f2949bc04ee7f04a6
      size: 1421
    params:
      params.yaml:
        combine_session:
          verbose: true
    outs:
    - path: results/trialframe/Dwight/2025-01-07/Dwight_2025-01-07_tf.log
      hash: md5
      md5: 56c4368ea1c0d6c1d9e222d2dafc22f8
      size: 310
    - path: results/trialframe/Dwight/2025-01-07/Dwight_2025-01-07_tf.pkl
      hash: md5
      md5: 7607796fec9e1755b5b7b89111be9bd9
      size: 278993994
  context_axis@0:
    cmd: python scripts/get_context_axis.py results/trialframe/Dwight/2025-01-07/Dwight_2025-01-07_tf.pkl
      --out results/context_axis/Dwight/2025-01-07/Dwight_2025-01-07_context_axis.svg
      --verbose
    deps:
    - path: results/trialframe/Dwight/2025-01-07/Dwight_2025-01-07_tf.pkl
      hash: md5
      md5: 7607796fec9e1755b5b7b89111be9bd9
      size: 278993994
    - path: scripts/get_context_axis.py
      hash: md5
      md5: 10161080e77db72cec06f2ae9ebfbe0e
      size: 3736
    params:
      params.yaml:
        context_axis:
          verbose: true
    outs:
    - path: results/context_axis/Dwight/2025-01-07/Dwight_2025-01-07_context_axis.log
      hash: md5
      md5: 5ac07f8ca6704aee2943eab1ab7f2280
      size: 98677
    - path: results/context_axis/Dwight/2025-01-07/Dwight_2025-01-07_context_axis.svg
      hash: md5
      md5: 727d4a46fbba76d1887eddeda952777c
      size: 1283895
