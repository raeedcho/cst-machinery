schema: '2.0'
stages:
  extract_dwight@2025-01-07-reward-type_medium_cst-rtt-dco:
    cmd: python scripts/extract_trial_frame.py --path 
      data/dwight/2025-01-07/Dwight_2025-01-07_reward-type_medium_cst-rtt-dco_sorted.mat
      --out 
      results/dwight/2025-01-07/Dwight_2025-01-07_reward-type_medium_cst-rtt-dco_tf.pkl
      --block reward-type_medium_cst-rtt-dco --bin_size 10ms
    deps:
    - path: 
        data/dwight/2025-01-07/Dwight_2025-01-07_reward-type_medium_cst-rtt-dco_sorted.mat
      hash: md5
      md5: ff17229ed7166de03a6d8a95c5d43f70
      size: 357282032
    params:
      params.yaml:
        extract.bin_size: 10ms
    outs:
    - path: 
        results/dwight/2025-01-07/Dwight_2025-01-07_reward-type_medium_cst-rtt-dco_tf.pkl
      hash: md5
      md5: d46b5e190d5729b5a8b27058f91e1d19
      size: 57849219
  extract_dwight@2025-01-07-reward-type_medium-large_cst-rtt-dco:
    cmd: python scripts/extract_trial_frame.py --path 
      data/dwight/2025-01-07/Dwight_2025-01-07_reward-type_medium-large_cst-rtt-dco_sorted.mat
      --out 
      results/dwight/2025-01-07/Dwight_2025-01-07_reward-type_medium-large_cst-rtt-dco_tf.pkl
      --block reward-type_medium-large_cst-rtt-dco --bin_size 10ms
    deps:
    - path: 
        data/dwight/2025-01-07/Dwight_2025-01-07_reward-type_medium-large_cst-rtt-dco_sorted.mat
      hash: md5
      md5: 6ebab48109d40b8a66355172b0826861
      size: 1501593328
      isexec: true
    params:
      params.yaml:
        extract.bin_size: 10ms
    outs:
    - path: 
        results/dwight/2025-01-07/Dwight_2025-01-07_reward-type_medium-large_cst-rtt-dco_tf.pkl
      hash: md5
      md5: 042d6dbbc9335a7aa26e61d5e549c63d
      size: 170816964
  extract_dwight@2025-01-07-reward-type-choice:
    cmd: python scripts/extract_trial_frame.py data/dwight/2025-01-07/Dwight_2025-01-07_reward-type-choice_sorted.mat
      --out results/dwight/2025-01-07/blocks/Dwight_2025-01-07_reward-type-choice_tf.pkl
      --block reward-type-choice --bin_size 10ms --min_firing_rate 0.1 --max_spike_coincidence
      0.2 --verbose
    deps:
    - path: /Users/raeed/codebase/0-projects/smile-extraction/smile_extract
      hash: md5
      md5: 69bb9c5a3f2a4b86ac90ce3a43c0587d.dir
      size: 77373
      nfiles: 27
    - path: data/dwight/2025-01-07/Dwight_2025-01-07_reward-type-choice_sorted.mat
      hash: md5
      md5: bc01f906a700ba664a6a1abb43479976
      size: 532558654
    - path: scripts/extract_trial_frame.py
      hash: md5
      md5: bfc4a7aecd418c21f1f2d0734d7b7577
      size: 2105
    params:
      params.yaml:
        extract:
          bin_size: 10ms
          min_firing_rate: 0.1
          max_spike_coincidence: 0.2
          verbose: true
    outs:
    - path: results/dwight/2025-01-07/blocks/Dwight_2025-01-07_reward-type-choice_tf.log
      hash: md5
      md5: a134c9dace02b9f3ff674e6c1eec1703
      size: 510
    - path: results/dwight/2025-01-07/blocks/Dwight_2025-01-07_reward-type-choice_tf.pkl
      hash: md5
      md5: 9a5f5c72ba1d7f87e3afc627f372778a
      size: 76874065
  extract_dwight@2025-01-07-reward-type-medium-cst-rtt-dco:
    cmd: python scripts/extract_trial_frame.py 
      data/dwight/2025-01-07/Dwight_2025-01-07_reward-type-medium-cst-rtt-dco_sorted.mat
      --out 
      results/dwight/2025-01-07/blocks/Dwight_2025-01-07_reward-type-medium-cst-rtt-dco_tf.pkl
      --block reward-type-medium-cst-rtt-dco --bin_size 10ms --min_firing_rate 0.1
      --max_spike_coincidence 0.2 --verbose
    deps:
    - path: /Users/raeed/codebase/0-projects/smile-extraction/smile_extract
      hash: md5
      md5: 69bb9c5a3f2a4b86ac90ce3a43c0587d.dir
      size: 77373
      nfiles: 27
    - path: 
        data/dwight/2025-01-07/Dwight_2025-01-07_reward-type-medium-cst-rtt-dco_sorted.mat
      hash: md5
      md5: ff17229ed7166de03a6d8a95c5d43f70
      size: 357282032
    - path: scripts/extract_trial_frame.py
      hash: md5
      md5: bfc4a7aecd418c21f1f2d0734d7b7577
      size: 2105
    params:
      params.yaml:
        extract:
          bin_size: 10ms
          min_firing_rate: 0.1
          max_spike_coincidence: 0.2
          verbose: true
    outs:
    - path: 
        results/dwight/2025-01-07/blocks/Dwight_2025-01-07_reward-type-medium-cst-rtt-dco_tf.log
      hash: md5
      md5: 99217eaa23b13eeb93c75a9314c5e285
      size: 546
    - path: 
        results/dwight/2025-01-07/blocks/Dwight_2025-01-07_reward-type-medium-cst-rtt-dco_tf.pkl
      hash: md5
      md5: e42aa7d6efb72c28f9422a189a212368
      size: 51293765
  extract_dwight@2025-01-07-reward-type-medium-large-cst-rtt-dco:
    cmd: python scripts/extract_trial_frame.py 
      data/dwight/2025-01-07/Dwight_2025-01-07_reward-type-medium-large-cst-rtt-dco_sorted.mat
      --out 
      results/dwight/2025-01-07/blocks/Dwight_2025-01-07_reward-type-medium-large-cst-rtt-dco_tf.pkl
      --block reward-type-medium-large-cst-rtt-dco --bin_size 10ms --min_firing_rate
      0.1 --max_spike_coincidence 0.2 --verbose
    deps:
    - path: /Users/raeed/codebase/0-projects/smile-extraction/smile_extract
      hash: md5
      md5: 69bb9c5a3f2a4b86ac90ce3a43c0587d.dir
      size: 77373
      nfiles: 27
    - path: 
        data/dwight/2025-01-07/Dwight_2025-01-07_reward-type-medium-large-cst-rtt-dco_sorted.mat
      hash: md5
      md5: 6ebab48109d40b8a66355172b0826861
      size: 1501593328
    - path: scripts/extract_trial_frame.py
      hash: md5
      md5: bfc4a7aecd418c21f1f2d0734d7b7577
      size: 2105
    params:
      params.yaml:
        extract:
          bin_size: 10ms
          min_firing_rate: 0.1
          max_spike_coincidence: 0.2
          verbose: true
    outs:
    - path: 
        results/dwight/2025-01-07/blocks/Dwight_2025-01-07_reward-type-medium-large-cst-rtt-dco_tf.log
      hash: md5
      md5: 9bcf7b03ebf2e2087b465ad4006766a1
      size: 564
    - path: 
        results/dwight/2025-01-07/blocks/Dwight_2025-01-07_reward-type-medium-large-cst-rtt-dco_tf.pkl
      hash: md5
      md5: 70bfc3be1aba667bf723505f17884cac
      size: 153683477
  combine_session@0:
    cmd: python scripts/combine_session.py results/dwight/2025-01-07/blocks/ --out
      results/dwight/2025-01-07/Dwight_2025-01-07_tf.pkl --verbose
    deps:
    - path: results/dwight/2025-01-07/blocks/
      hash: md5
      md5: b521d4fac82ade51f851ebafcab6d93c.dir
      size: 281852927
      nfiles: 6
    - path: scripts/combine_session.py
      hash: md5
      md5: 39223f0e9a0f8c85ff19adf44cb64264
      size: 1331
    params:
      params.yaml:
        combine_session:
          verbose: true
    outs:
    - path: results/dwight/2025-01-07/Dwight_2025-01-07_tf.log
      hash: md5
      md5: 7c0aecd41f373c15d88e758cf10b707e
      size: 288
    - path: results/dwight/2025-01-07/Dwight_2025-01-07_tf.pkl
      hash: md5
      md5: 4018a7b1abff235bd1d99d10432daf20
      size: 287539685
