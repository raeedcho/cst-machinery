schema: '2.0'
stages:
  extract_dwight@2025-01-07-reward-type_medium_cst-rtt-dco:
    cmd: python scripts/extract_trial_frame.py --path 
      data/dwight/2025-01-07/Dwight_2025-01-07_reward-type_medium_cst-rtt-dco_sorted.mat
      --out 
      results/dwight/2025-01-07/Dwight_2025-01-07_reward-type_medium_cst-rtt-dco_tf.pkl
      --block reward-type_medium_cst-rtt-dco --bin_size 10ms
    deps:
    - path: 
        data/dwight/2025-01-07/Dwight_2025-01-07_reward-type_medium_cst-rtt-dco_sorted.mat
      hash: md5
      md5: ff17229ed7166de03a6d8a95c5d43f70
      size: 357282032
    params:
      params.yaml:
        extract.bin_size: 10ms
    outs:
    - path: 
        results/dwight/2025-01-07/Dwight_2025-01-07_reward-type_medium_cst-rtt-dco_tf.pkl
      hash: md5
      md5: d46b5e190d5729b5a8b27058f91e1d19
      size: 57849219
  extract_dwight@2025-01-07-reward-type_medium-large_cst-rtt-dco:
    cmd: python scripts/extract_trial_frame.py --path 
      data/dwight/2025-01-07/Dwight_2025-01-07_reward-type_medium-large_cst-rtt-dco_sorted.mat
      --out 
      results/dwight/2025-01-07/Dwight_2025-01-07_reward-type_medium-large_cst-rtt-dco_tf.pkl
      --block reward-type_medium-large_cst-rtt-dco --bin_size 10ms
    deps:
    - path: 
        data/dwight/2025-01-07/Dwight_2025-01-07_reward-type_medium-large_cst-rtt-dco_sorted.mat
      hash: md5
      md5: 6ebab48109d40b8a66355172b0826861
      size: 1501593328
      isexec: true
    params:
      params.yaml:
        extract.bin_size: 10ms
    outs:
    - path: 
        results/dwight/2025-01-07/Dwight_2025-01-07_reward-type_medium-large_cst-rtt-dco_tf.pkl
      hash: md5
      md5: 042d6dbbc9335a7aa26e61d5e549c63d
      size: 170816964
  extract_dwight@2025-01-07-reward-type-choice:
    cmd: python scripts/extract_trial_frame.py 
      /Users/raeed/Library/CloudStorage/OneDrive-UniversityofPittsburgh/0-projects/cst-rtt/cst-data/smile_format/Dwight/2025-01-07/Dwight_2025-01-07_reward-type-choice_sorted.mat
      --out 
      data/trialframe/Dwight/2025-01-07/blocks/Dwight_2025-01-07_reward-type-choice_tf.parquet
      --block reward-type-choice --logdir logs --loglevel INFO --bin_size 10ms --min_firing_rate
      0.1 --max_spike_coincidence 0.2 --rate_artifact_threshold 350
    deps:
    - path: 
        /Users/raeed/Library/CloudStorage/OneDrive-UniversityofPittsburgh/0-projects/cst-rtt/cst-data/smile_format/Dwight/2025-01-07/Dwight_2025-01-07_reward-type-choice_sorted.mat
      hash: md5
      md5: bc01f906a700ba664a6a1abb43479976
      size: 532558654
      isexec: true
    - path: /Users/raeed/codebase/0-projects/smile-extraction/smile_extract
      hash: md5
      md5: 709e574e715a99045ea28ab465a5b1e0.dir
      size: 83276
      nfiles: 27
    - path: scripts/extract_trial_frame.py
      hash: md5
      md5: 9b04ca62fea980ecb91c207c0569b490
      size: 2677
    - path: src/
      hash: md5
      md5: bf2c069790467a250823d98973a80e67.dir
      size: 54631
      nfiles: 14
    params:
      params.yaml:
        extract:
          bin_size: 10ms
          min_firing_rate: 0.1
          max_spike_coincidence: 0.2
          rate_artifact_threshold: 350
        logging:
          logdir: logs
          loglevel: INFO
    outs:
    - path: 
        data/trialframe/Dwight/2025-01-07/blocks/Dwight_2025-01-07_reward-type-choice_tf.parquet
      hash: md5
      md5: 9f197587076cf53b34d0bf92efb0a14d
      size: 3558562
    - path: logs/extract/Dwight_2025-01-07_reward-type-choice_tf.log
      hash: md5
      md5: 2e04ad7aa0728ec3e5d7c929fced1cf3
      size: 911
  extract_dwight@2025-01-07-reward-type-medium-cst-rtt-dco:
    cmd: python scripts/extract_trial_frame.py 
      /Users/raeed/Library/CloudStorage/OneDrive-UniversityofPittsburgh/0-projects/cst-rtt/cst-data/smile_format/Dwight/2025-01-07/Dwight_2025-01-07_reward-type-medium-cst-rtt-dco_sorted.mat
      --out 
      data/trialframe/Dwight/2025-01-07/blocks/Dwight_2025-01-07_reward-type-medium-cst-rtt-dco_tf.parquet
      --block reward-type-medium-cst-rtt-dco --logdir logs --loglevel INFO --bin_size
      10ms --min_firing_rate 0.1 --max_spike_coincidence 0.2 --rate_artifact_threshold
      350
    deps:
    - path: 
        /Users/raeed/Library/CloudStorage/OneDrive-UniversityofPittsburgh/0-projects/cst-rtt/cst-data/smile_format/Dwight/2025-01-07/Dwight_2025-01-07_reward-type-medium-cst-rtt-dco_sorted.mat
      hash: md5
      md5: ff17229ed7166de03a6d8a95c5d43f70
      size: 357282032
      isexec: true
    - path: /Users/raeed/codebase/0-projects/smile-extraction/smile_extract
      hash: md5
      md5: 709e574e715a99045ea28ab465a5b1e0.dir
      size: 83276
      nfiles: 27
    - path: scripts/extract_trial_frame.py
      hash: md5
      md5: 9b04ca62fea980ecb91c207c0569b490
      size: 2677
    - path: src/
      hash: md5
      md5: bf2c069790467a250823d98973a80e67.dir
      size: 54631
      nfiles: 14
    params:
      params.yaml:
        extract:
          bin_size: 10ms
          min_firing_rate: 0.1
          max_spike_coincidence: 0.2
          rate_artifact_threshold: 350
        logging:
          logdir: logs
          loglevel: INFO
    outs:
    - path: 
        data/trialframe/Dwight/2025-01-07/blocks/Dwight_2025-01-07_reward-type-medium-cst-rtt-dco_tf.parquet
      hash: md5
      md5: 8fa332231dc58a3dbce75911706ff036
      size: 2655531
    - path: logs/extract/Dwight_2025-01-07_reward-type-medium-cst-rtt-dco_tf.log
      hash: md5
      md5: 07ea5ed3b1d680d4896ea1827de875a7
      size: 947
  extract_dwight@2025-01-07-reward-type-medium-large-cst-rtt-dco:
    cmd: python scripts/extract_trial_frame.py 
      /Users/raeed/Library/CloudStorage/OneDrive-UniversityofPittsburgh/0-projects/cst-rtt/cst-data/smile_format/Dwight/2025-01-07/Dwight_2025-01-07_reward-type-medium-large-cst-rtt-dco_sorted.mat
      --out 
      data/trialframe/Dwight/2025-01-07/blocks/Dwight_2025-01-07_reward-type-medium-large-cst-rtt-dco_tf.parquet
      --block reward-type-medium-large-cst-rtt-dco --logdir logs --loglevel INFO --bin_size
      10ms --min_firing_rate 0.1 --max_spike_coincidence 0.2 --rate_artifact_threshold
      350
    deps:
    - path: 
        /Users/raeed/Library/CloudStorage/OneDrive-UniversityofPittsburgh/0-projects/cst-rtt/cst-data/smile_format/Dwight/2025-01-07/Dwight_2025-01-07_reward-type-medium-large-cst-rtt-dco_sorted.mat
      hash: md5
      md5: 6ebab48109d40b8a66355172b0826861
      size: 1501593328
      isexec: true
    - path: /Users/raeed/codebase/0-projects/smile-extraction/smile_extract
      hash: md5
      md5: 709e574e715a99045ea28ab465a5b1e0.dir
      size: 83276
      nfiles: 27
    - path: scripts/extract_trial_frame.py
      hash: md5
      md5: 9b04ca62fea980ecb91c207c0569b490
      size: 2677
    - path: src/
      hash: md5
      md5: bf2c069790467a250823d98973a80e67.dir
      size: 54631
      nfiles: 14
    params:
      params.yaml:
        extract:
          bin_size: 10ms
          min_firing_rate: 0.1
          max_spike_coincidence: 0.2
          rate_artifact_threshold: 350
        logging:
          logdir: logs
          loglevel: INFO
    outs:
    - path: 
        data/trialframe/Dwight/2025-01-07/blocks/Dwight_2025-01-07_reward-type-medium-large-cst-rtt-dco_tf.parquet
      hash: md5
      md5: 7b5fa15016c4bca050c4035f916bcb89
      size: 7329167
    - path: logs/extract/Dwight_2025-01-07_reward-type-medium-large-cst-rtt-dco_tf.log
      hash: md5
      md5: e162f91b2057b98d529ed312fc37b10e
      size: 965
  combine_session@0:
    cmd: python scripts/combine_session.py data/trialframe/Prez/2022-07-21/blocks/
      --out data/trialframe/Prez/2022-07-21/Prez_2022-07-21_tf.parquet --logdir logs
      --loglevel INFO
    deps:
    - path: data/trialframe/Prez/2022-07-21/blocks/
      hash: md5
      md5: 79a179208db0ea6a1c5c7009498c3758.dir
      size: 10734372
      nfiles: 2
    - path: scripts/combine_session.py
      hash: md5
      md5: 1ee241b619babdec79402b893c381999
      size: 1644
    - path: src/
      hash: md5
      md5: bf2c069790467a250823d98973a80e67.dir
      size: 54631
      nfiles: 14
    params:
      params.yaml:
        logging:
          logdir: logs
          loglevel: INFO
    outs:
    - path: data/trialframe/Prez/2022-07-21/Prez_2022-07-21_tf.parquet
      hash: md5
      md5: b24ed58b046c38e40f6ccc32a3790160
      size: 10734307
    - path: logs/combine/Prez_2022-07-21_tf.log
      hash: md5
      md5: b1a68fbc02b5770856acfe3d17fa456e
      size: 177
  context_axis@0:
    cmd: python scripts/get_context_axis.py data/trialframe/Prez/2022-07-21/Prez_2022-07-21_tf.parquet
      --out results/context_axis/Prez/2022-07-21/Prez_2022-07-21_context_axis.svg
      --logdir logs --loglevel INFO
    deps:
    - path: data/trialframe/Prez/2022-07-21/Prez_2022-07-21_tf.parquet
      hash: md5
      md5: b24ed58b046c38e40f6ccc32a3790160
      size: 10734307
    - path: scripts/get_context_axis.py
      hash: md5
      md5: dace6785a22b676254fb1c55e1491d53
      size: 3948
    - path: src/
      hash: md5
      md5: bf2c069790467a250823d98973a80e67.dir
      size: 54631
      nfiles: 14
    params:
      params.yaml:
        logging:
          logdir: logs
          loglevel: INFO
    outs:
    - path: logs/context_axis/Prez_2022-07-21_context_axis.log
      hash: md5
      md5: 7a2a7f12fdc0751f528cf85f883679ff
      size: 241
    - path: results/context_axis/Prez/2022-07-21/Prez_2022-07-21_context_axis.svg
      hash: md5
      md5: 24897d06cd172d5a080ccf69380e178e
      size: 1020186
  extract_dwight@2025-01-01-reward-type-medium-cst-rtt-dco:
    cmd: python scripts/extract_trial_frame.py 
      /Users/raeed/Library/CloudStorage/OneDrive-UniversityofPittsburgh/0-projects/cst-rtt/cst-data/smile_format/Dwight/2025-01-01/Dwight_2025-01-01_reward-type-medium-cst-rtt-dco_sorted.mat
      --out 
      data/trialframe/Dwight/2025-01-01/blocks/Dwight_2025-01-01_reward-type-medium-cst-rtt-dco_tf.parquet
      --block reward-type-medium-cst-rtt-dco --logdir logs --loglevel INFO --bin_size
      10ms --min_firing_rate 0.1 --max_spike_coincidence 0.2 --rate_artifact_threshold
      350
    deps:
    - path: 
        /Users/raeed/Library/CloudStorage/OneDrive-UniversityofPittsburgh/0-projects/cst-rtt/cst-data/smile_format/Dwight/2025-01-01/Dwight_2025-01-01_reward-type-medium-cst-rtt-dco_sorted.mat
      hash: md5
      md5: 3c76917117c00444f9208fc43f478bbf
      size: 931872122
      isexec: true
    - path: /Users/raeed/codebase/0-projects/smile-extraction/smile_extract
      hash: md5
      md5: 709e574e715a99045ea28ab465a5b1e0.dir
      size: 83276
      nfiles: 27
    - path: scripts/extract_trial_frame.py
      hash: md5
      md5: 9b04ca62fea980ecb91c207c0569b490
      size: 2677
    - path: src/
      hash: md5
      md5: bf2c069790467a250823d98973a80e67.dir
      size: 54631
      nfiles: 14
    params:
      params.yaml:
        extract:
          bin_size: 10ms
          min_firing_rate: 0.1
          max_spike_coincidence: 0.2
          rate_artifact_threshold: 350
        logging:
          logdir: logs
          loglevel: INFO
    outs:
    - path: 
        data/trialframe/Dwight/2025-01-01/blocks/Dwight_2025-01-01_reward-type-medium-cst-rtt-dco_tf.parquet
      hash: md5
      md5: 1b2732df1fa5ca8097b978289a70d8a6
      size: 7946439
    - path: logs/extract/Dwight_2025-01-01_reward-type-medium-cst-rtt-dco_tf.log
      hash: md5
      md5: b8c62ac68e88228df9b3165ccd2e2fd1
      size: 947
  extract_dwight@2025-01-01-reward-type-medium-large-cst-rtt-dco:
    cmd: python scripts/extract_trial_frame.py 
      /Users/raeed/Library/CloudStorage/OneDrive-UniversityofPittsburgh/0-projects/cst-rtt/cst-data/smile_format/Dwight/2025-01-01/Dwight_2025-01-01_reward-type-medium-large-cst-rtt-dco_sorted.mat
      --out 
      data/trialframe/Dwight/2025-01-01/blocks/Dwight_2025-01-01_reward-type-medium-large-cst-rtt-dco_tf.parquet
      --block reward-type-medium-large-cst-rtt-dco --logdir logs --loglevel INFO --bin_size
      10ms --min_firing_rate 0.1 --max_spike_coincidence 0.2 --rate_artifact_threshold
      350
    deps:
    - path: 
        /Users/raeed/Library/CloudStorage/OneDrive-UniversityofPittsburgh/0-projects/cst-rtt/cst-data/smile_format/Dwight/2025-01-01/Dwight_2025-01-01_reward-type-medium-large-cst-rtt-dco_sorted.mat
      hash: md5
      md5: 297e47f6a26f5c79a99d23e6caa6108e
      size: 589989254
      isexec: true
    - path: /Users/raeed/codebase/0-projects/smile-extraction/smile_extract
      hash: md5
      md5: 709e574e715a99045ea28ab465a5b1e0.dir
      size: 83276
      nfiles: 27
    - path: scripts/extract_trial_frame.py
      hash: md5
      md5: 9b04ca62fea980ecb91c207c0569b490
      size: 2677
    - path: src/
      hash: md5
      md5: bf2c069790467a250823d98973a80e67.dir
      size: 54631
      nfiles: 14
    params:
      params.yaml:
        extract:
          bin_size: 10ms
          min_firing_rate: 0.1
          max_spike_coincidence: 0.2
          rate_artifact_threshold: 350
        logging:
          logdir: logs
          loglevel: INFO
    outs:
    - path: 
        data/trialframe/Dwight/2025-01-01/blocks/Dwight_2025-01-01_reward-type-medium-large-cst-rtt-dco_tf.parquet
      hash: md5
      md5: d1cc1aef0c2c1547809398d1796b7759
      size: 5182018
    - path: logs/extract/Dwight_2025-01-01_reward-type-medium-large-cst-rtt-dco_tf.log
      hash: md5
      md5: 3d30abe802798a504484c6522e3f2e01
      size: 966
  extract_dwight@2025-01-01-reward-type-choice:
    cmd: python scripts/extract_trial_frame.py 
      /Users/raeed/Library/CloudStorage/OneDrive-UniversityofPittsburgh/0-projects/cst-rtt/cst-data/smile_format/Dwight/2025-01-01/Dwight_2025-01-01_reward-type-choice_sorted.mat
      --out 
      data/trialframe/Dwight/2025-01-01/blocks/Dwight_2025-01-01_reward-type-choice_tf.parquet
      --block reward-type-choice --logdir logs --loglevel INFO --bin_size 10ms --min_firing_rate
      0.1 --max_spike_coincidence 0.2 --rate_artifact_threshold 350
    deps:
    - path: 
        /Users/raeed/Library/CloudStorage/OneDrive-UniversityofPittsburgh/0-projects/cst-rtt/cst-data/smile_format/Dwight/2025-01-01/Dwight_2025-01-01_reward-type-choice_sorted.mat
      hash: md5
      md5: 0ec20fc03c67588818154034c6c8054f
      size: 617896703
      isexec: true
    - path: /Users/raeed/codebase/0-projects/smile-extraction/smile_extract
      hash: md5
      md5: 709e574e715a99045ea28ab465a5b1e0.dir
      size: 83276
      nfiles: 27
    - path: scripts/extract_trial_frame.py
      hash: md5
      md5: 9b04ca62fea980ecb91c207c0569b490
      size: 2677
    - path: src/
      hash: md5
      md5: bf2c069790467a250823d98973a80e67.dir
      size: 54631
      nfiles: 14
    params:
      params.yaml:
        extract:
          bin_size: 10ms
          min_firing_rate: 0.1
          max_spike_coincidence: 0.2
          rate_artifact_threshold: 350
        logging:
          logdir: logs
          loglevel: INFO
    outs:
    - path: 
        data/trialframe/Dwight/2025-01-01/blocks/Dwight_2025-01-01_reward-type-choice_tf.parquet
      hash: md5
      md5: 2da93fcc2205b8011aaa85a85244d998
      size: 5262122
    - path: logs/extract/Dwight_2025-01-01_reward-type-choice_tf.log
      hash: md5
      md5: fbb0218fbd283e55db17554d6f232f74
      size: 912
  extract_prez@2022-07-21-cst-rtt:
    cmd: python scripts/extract_trial_frame.py 
      /Users/raeed/Library/CloudStorage/OneDrive-UniversityofPittsburgh/0-projects/cst-rtt/cst-data/smile_format/Prez/2022-07-21/Prez_2022-07-21_cst-rtt_sorted.mat
      --out data/trialframe/Prez/2022-07-21/blocks/Prez_2022-07-21_cst-rtt_tf.parquet
      --block cst-rtt --logdir logs --loglevel INFO --bin_size 10ms --min_firing_rate
      0.1 --max_spike_coincidence 0.2 --rate_artifact_threshold 350
    deps:
    - path: 
        /Users/raeed/Library/CloudStorage/OneDrive-UniversityofPittsburgh/0-projects/cst-rtt/cst-data/smile_format/Prez/2022-07-21/Prez_2022-07-21_cst-rtt_sorted.mat
      hash: md5
      md5: 84113443de540117ea5727683e9fad1c
      size: 123488532
      isexec: true
    - path: /Users/raeed/codebase/0-projects/smile-extraction/smile_extract
      hash: md5
      md5: 709e574e715a99045ea28ab465a5b1e0.dir
      size: 83276
      nfiles: 27
    - path: scripts/extract_trial_frame.py
      hash: md5
      md5: 9b04ca62fea980ecb91c207c0569b490
      size: 2677
    - path: src/
      hash: md5
      md5: bf2c069790467a250823d98973a80e67.dir
      size: 54631
      nfiles: 14
    params:
      params.yaml:
        extract:
          bin_size: 10ms
          min_firing_rate: 0.1
          max_spike_coincidence: 0.2
          rate_artifact_threshold: 350
        logging:
          logdir: logs
          loglevel: INFO
    outs:
    - path: data/trialframe/Prez/2022-07-21/blocks/Prez_2022-07-21_cst-rtt_tf.parquet
      hash: md5
      md5: b24ed58b046c38e40f6ccc32a3790160
      size: 10734307
    - path: logs/extract/Prez_2022-07-21_cst-rtt_tf.log
      hash: md5
      md5: 1a84a0bdfd9c112d1bc9a81c51c2ff10
      size: 865
  combine_session@1:
    cmd: python scripts/combine_session.py data/trialframe/Dwight/2025-01-01/blocks/
      --out data/trialframe/Dwight/2025-01-01/Dwight_2025-01-01_tf.parquet --logdir
      logs --loglevel INFO
    deps:
    - path: data/trialframe/Dwight/2025-01-01/blocks/
      hash: md5
      md5: d5e54c46777f43bb0f546e939892c1e5.dir
      size: 18390914
      nfiles: 4
    - path: scripts/combine_session.py
      hash: md5
      md5: 1ee241b619babdec79402b893c381999
      size: 1644
    - path: src/
      hash: md5
      md5: bf2c069790467a250823d98973a80e67.dir
      size: 54631
      nfiles: 14
    params:
      params.yaml:
        logging:
          logdir: logs
          loglevel: INFO
    outs:
    - path: data/trialframe/Dwight/2025-01-01/Dwight_2025-01-01_tf.parquet
      hash: md5
      md5: 97f29fe64d7fd15684daa34951709b1d
      size: 16852444
    - path: logs/combine/Dwight_2025-01-01_tf.log
      hash: md5
      md5: 617ce59db0f35c0a56db4939c929607e
      size: 183
  combine_session@2:
    cmd: python scripts/combine_session.py data/trialframe/Dwight/2025-01-07/blocks/
      --out data/trialframe/Dwight/2025-01-07/Dwight_2025-01-07_tf.parquet --logdir
      logs --loglevel INFO
    deps:
    - path: data/trialframe/Dwight/2025-01-07/blocks/
      hash: md5
      md5: 5398b334dee928ca8f7ba41255a86a28.dir
      size: 13543602
      nfiles: 4
    - path: scripts/combine_session.py
      hash: md5
      md5: 1ee241b619babdec79402b893c381999
      size: 1644
    - path: src/
      hash: md5
      md5: bf2c069790467a250823d98973a80e67.dir
      size: 54631
      nfiles: 14
    params:
      params.yaml:
        logging:
          logdir: logs
          loglevel: INFO
    outs:
    - path: data/trialframe/Dwight/2025-01-07/Dwight_2025-01-07_tf.parquet
      hash: md5
      md5: 0fee6ab0657ff10e8e34781bcb37b373
      size: 12545099
    - path: logs/combine/Dwight_2025-01-07_tf.log
      hash: md5
      md5: d135979d9cad417611bfee1beb12ab8e
      size: 183
  context_axis@1:
    cmd: python scripts/get_context_axis.py data/trialframe/Dwight/2025-01-01/Dwight_2025-01-01_tf.parquet
      --out results/context_axis/Dwight/2025-01-01/Dwight_2025-01-01_context_axis.svg
      --logdir logs --loglevel INFO
    deps:
    - path: data/trialframe/Dwight/2025-01-01/Dwight_2025-01-01_tf.parquet
      hash: md5
      md5: 97f29fe64d7fd15684daa34951709b1d
      size: 16852444
    - path: scripts/get_context_axis.py
      hash: md5
      md5: dace6785a22b676254fb1c55e1491d53
      size: 3948
    - path: src/
      hash: md5
      md5: bf2c069790467a250823d98973a80e67.dir
      size: 54631
      nfiles: 14
    params:
      params.yaml:
        logging:
          logdir: logs
          loglevel: INFO
    outs:
    - path: logs/context_axis/Dwight_2025-01-01_context_axis.log
      hash: md5
      md5: 95dc8fafc46328b8df2fa929408c3e89
      size: 249
    - path: results/context_axis/Dwight/2025-01-01/Dwight_2025-01-01_context_axis.svg
      hash: md5
      md5: 07bf988ca82330f4612789c9abdcdc32
      size: 1419053
  context_axis@2:
    cmd: python scripts/get_context_axis.py data/trialframe/Dwight/2025-01-07/Dwight_2025-01-07_tf.parquet
      --out results/context_axis/Dwight/2025-01-07/Dwight_2025-01-07_context_axis.svg
      --logdir logs --loglevel INFO
    deps:
    - path: data/trialframe/Dwight/2025-01-07/Dwight_2025-01-07_tf.parquet
      hash: md5
      md5: 0fee6ab0657ff10e8e34781bcb37b373
      size: 12545099
    - path: scripts/get_context_axis.py
      hash: md5
      md5: dace6785a22b676254fb1c55e1491d53
      size: 3948
    - path: src/
      hash: md5
      md5: bf2c069790467a250823d98973a80e67.dir
      size: 54631
      nfiles: 14
    params:
      params.yaml:
        logging:
          logdir: logs
          loglevel: INFO
    outs:
    - path: logs/context_axis/Dwight_2025-01-07_context_axis.log
      hash: md5
      md5: 9bca71d2872b7d694453cf6aa892c4cb
      size: 249
    - path: results/context_axis/Dwight/2025-01-07/Dwight_2025-01-07_context_axis.svg
      hash: md5
      md5: fa203fb5d56c7040aae87b83848983da
      size: 1251924
  cross_task_decoding@0:
    cmd: python scripts/cross_task_decoding.py data/trialframe/Prez/2022-07-21/Prez_2022-07-21_tf.parquet
      --out results/cross-task-decoding/Prez/2022-07-21/ --logdir logs --loglevel
      INFO
    deps:
    - path: data/trialframe/Prez/2022-07-21/Prez_2022-07-21_tf.parquet
      hash: md5
      md5: b24ed58b046c38e40f6ccc32a3790160
      size: 10734307
    - path: scripts/cross_task_decoding.py
      hash: md5
      md5: 20a98b8a017e285a248a770ae39e9e71
      size: 8162
    - path: src/
      hash: md5
      md5: bf2c069790467a250823d98973a80e67.dir
      size: 54631
      nfiles: 14
    params:
      params.yaml:
        logging:
          logdir: logs
          loglevel: INFO
    outs:
    - path: logs/cross-task-decoding/Prez_2022-07-21_cross-task-decoding.log
      hash: md5
      md5: d41d8cd98f00b204e9800998ecf8427e
      size: 0
    - path: 
        results/cross-task-decoding/Prez/2022-07-21/Prez_2022-07-21_decoder-task-score-heatmap.svg
      hash: md5
      md5: bf6a389842962dcbaab90fe00b27fd8d
      size: 25070
    - path: 
        results/cross-task-decoding/Prez/2022-07-21/Prez_2022-07-21_decoder-trial-scores-scatter.svg
      hash: md5
      md5: 2beff71eaeecdef64a45d69a91569bdb
      size: 185126
    - path: results/cross-task-decoding/Prez/2022-07-21/trials/
      hash: md5
      md5: 4e7211b0973301e115d293dfa1feac52.dir
      size: 12159075
      nfiles: 260
  cross_task_decoding@1:
    cmd: python scripts/cross_task_decoding.py data/trialframe/Dwight/2025-01-01/Dwight_2025-01-01_tf.parquet
      --out results/cross-task-decoding/Dwight/2025-01-01/ --logdir logs --loglevel
      INFO
    deps:
    - path: data/trialframe/Dwight/2025-01-01/Dwight_2025-01-01_tf.parquet
      hash: md5
      md5: 97f29fe64d7fd15684daa34951709b1d
      size: 16852444
    - path: scripts/cross_task_decoding.py
      hash: md5
      md5: 20a98b8a017e285a248a770ae39e9e71
      size: 8162
    - path: src/
      hash: md5
      md5: bf2c069790467a250823d98973a80e67.dir
      size: 54631
      nfiles: 14
    params:
      params.yaml:
        logging:
          logdir: logs
          loglevel: INFO
    outs:
    - path: logs/cross-task-decoding/Dwight_2025-01-01_cross-task-decoding.log
      hash: md5
      md5: d41d8cd98f00b204e9800998ecf8427e
      size: 0
    - path: 
        results/cross-task-decoding/Dwight/2025-01-01/Dwight_2025-01-01_decoder-task-score-heatmap.svg
      hash: md5
      md5: fc583a434be696629e662f0946aacdf0
      size: 24845
    - path: 
        results/cross-task-decoding/Dwight/2025-01-01/Dwight_2025-01-01_decoder-trial-scores-scatter.svg
      hash: md5
      md5: fd97248af37a9d5eb2118c84af148942
      size: 230866
    - path: results/cross-task-decoding/Dwight/2025-01-01/trials/
      hash: md5
      md5: 10f877f9d2358186da86a39a7aa2d264.dir
      size: 16345533
      nfiles: 364
  cross_task_decoding@2:
    cmd: python scripts/cross_task_decoding.py data/trialframe/Dwight/2025-01-07/Dwight_2025-01-07_tf.parquet
      --out results/cross-task-decoding/Dwight/2025-01-07/ --logdir logs --loglevel
      INFO
    deps:
    - path: data/trialframe/Dwight/2025-01-07/Dwight_2025-01-07_tf.parquet
      hash: md5
      md5: 0fee6ab0657ff10e8e34781bcb37b373
      size: 12545099
    - path: scripts/cross_task_decoding.py
      hash: md5
      md5: 20a98b8a017e285a248a770ae39e9e71
      size: 8162
    - path: src/
      hash: md5
      md5: bf2c069790467a250823d98973a80e67.dir
      size: 54631
      nfiles: 14
    params:
      params.yaml:
        logging:
          logdir: logs
          loglevel: INFO
    outs:
    - path: logs/cross-task-decoding/Dwight_2025-01-07_cross-task-decoding.log
      hash: md5
      md5: d41d8cd98f00b204e9800998ecf8427e
      size: 0
    - path: 
        results/cross-task-decoding/Dwight/2025-01-07/Dwight_2025-01-07_decoder-task-score-heatmap.svg
      hash: md5
      md5: 096cb22af3a7ef9ce896002e0bd68d60
      size: 25736
    - path: 
        results/cross-task-decoding/Dwight/2025-01-07/Dwight_2025-01-07_decoder-trial-scores-scatter.svg
      hash: md5
      md5: af91fa866733119125c40690d07f5570
      size: 219529
    - path: results/cross-task-decoding/Dwight/2025-01-07/trials/
      hash: md5
      md5: f62f15c7f69e18facad085e7fd320cf4.dir
      size: 15365462
      nfiles: 344
  prep_lfads_tensors@0:
    cmd: python scripts/prep_lfads_tensors.py data/trialframe/Prez/2022-07-21/Prez_2022-07-21_tf.parquet
      --out data/pre-lfads-tensors/Prez_2022-07-21_tensors.hdf5 --logdir logs --loglevel
      INFO --window_len 60 --overlap 20
    deps:
    - path: data/trialframe/Prez/2022-07-21/Prez_2022-07-21_tf.parquet
      hash: md5
      md5: b24ed58b046c38e40f6ccc32a3790160
      size: 10734307
    - path: scripts/prep_lfads_tensors.py
      hash: md5
      md5: 3434f565574a50765bd47bb478463898
      size: 4848
    - path: src/
      hash: md5
      md5: bf2c069790467a250823d98973a80e67.dir
      size: 54631
      nfiles: 14
    params:
      params.yaml:
        logging:
          logdir: logs
          loglevel: INFO
        prep_lfads_tensors:
          window_len: 60
          overlap: 20
          group_split: false
    outs:
    - path: data/pre-lfads-tensors/Prez_2022-07-21_tensors.hdf5
      hash: md5
      md5: feee0006cde684527ee6d4739d67f2ce
      size: 19256510
    - path: logs/prep-lfads-tensors/Prez_2022-07-21_tensors.log
      hash: md5
      md5: 8e2a8352ca423ee4b2371eaf88260a97
      size: 261
  prep_lfads_tensors@1:
    cmd: python scripts/prep_lfads_tensors.py data/trialframe/Dwight/2025-01-01/Dwight_2025-01-01_tf.parquet
      --out data/pre-lfads-tensors/Dwight_2025-01-01_tensors.hdf5 --logdir logs --loglevel
      INFO --window_len 60 --overlap 20
    deps:
    - path: data/trialframe/Dwight/2025-01-01/Dwight_2025-01-01_tf.parquet
      hash: md5
      md5: 97f29fe64d7fd15684daa34951709b1d
      size: 16852444
    - path: scripts/prep_lfads_tensors.py
      hash: md5
      md5: 3434f565574a50765bd47bb478463898
      size: 4848
    - path: src/
      hash: md5
      md5: bf2c069790467a250823d98973a80e67.dir
      size: 54631
      nfiles: 14
    params:
      params.yaml:
        logging:
          logdir: logs
          loglevel: INFO
        prep_lfads_tensors:
          window_len: 60
          overlap: 20
          group_split: false
    outs:
    - path: data/pre-lfads-tensors/Dwight_2025-01-01_tensors.hdf5
      hash: md5
      md5: 57d49c213cb973b3bb646d96be821ed9
      size: 28998149
    - path: logs/prep-lfads-tensors/Dwight_2025-01-01_tensors.log
      hash: md5
      md5: 72d76adf768b934c2922f5ee007e1c19
      size: 267
  prep_lfads_tensors@2:
    cmd: python scripts/prep_lfads_tensors.py data/trialframe/Dwight/2025-01-07/Dwight_2025-01-07_tf.parquet
      --out data/pre-lfads-tensors/Dwight_2025-01-07_tensors.hdf5 --logdir logs --loglevel
      INFO --window_len 60 --overlap 20
    deps:
    - path: data/trialframe/Dwight/2025-01-07/Dwight_2025-01-07_tf.parquet
      hash: md5
      md5: 0fee6ab0657ff10e8e34781bcb37b373
      size: 12545099
    - path: scripts/prep_lfads_tensors.py
      hash: md5
      md5: 3434f565574a50765bd47bb478463898
      size: 4848
    - path: src/
      hash: md5
      md5: bf2c069790467a250823d98973a80e67.dir
      size: 54631
      nfiles: 14
    params:
      params.yaml:
        logging:
          logdir: logs
          loglevel: INFO
        prep_lfads_tensors:
          window_len: 60
          overlap: 20
          group_split: false
    outs:
    - path: data/pre-lfads-tensors/Dwight_2025-01-07_tensors.hdf5
      hash: md5
      md5: 038b9c3bbfbd217d16ae59b10271953b
      size: 20796617
    - path: logs/prep-lfads-tensors/Dwight_2025-01-07_tensors.log
      hash: md5
      md5: d3cd2a8f0c87d39dd4fd217d2575f53b
      size: 267
  run_lfads:
    cmd: python scripts/run_lfads.py
    deps:
    - path: data/pre-lfads-tensors/Prez_2022-07-21_tensors.hdf5
      hash: md5
      md5: feee0006cde684527ee6d4739d67f2ce
      size: 19256510
    params:
      params.yaml:
        lfads:
          datamodule:
            _target_: lfads_torch.datamodules.BasicDataModule
            datafile_pattern: 
              /Users/raeed/codebase/0-projects/cst-rtt/cst-machinery/hydra_plugins/../data/pre-lfads-tensors/Prez_2022-07-21_tensors.hdf5
            batch_keys: []
            attr_keys:
            - train_trial_id
            - train_chop_id
            - valid_trial_id
            - valid_chop_id
            batch_size: 250
          model:
            _target_: lfads_torch.model.LFADS
            encod_data_dim: 155
            encod_seq_len: 60
            recon_seq_len: 60
            ext_input_dim: 0
            ic_enc_seq_len: 0
            ic_enc_dim: 20
            ci_enc_dim: 80
            ci_lag: 1
            con_dim: 80
            co_dim: 4
            ic_dim: 100
            gen_dim: 100
            fac_dim: 40
            readin:
            - _target_: torch.nn.Identity
            readout:
              _target_: torch.nn.ModuleList
              modules:
              - _target_: lfads_torch.modules.readin_readout.FanInLinear
                in_features: 40
                out_features: 155
            train_aug_stack:
              _target_: lfads_torch.modules.augmentations.AugmentationStack
              transforms:
              - _target_: lfads_torch.modules.augmentations.CoordinatedDropout
                cd_rate: 0.3
                cd_pass_rate: 0.0
                ic_enc_seq_len: 0
              batch_order:
              - 0
              loss_order:
              - 0
            infer_aug_stack:
              _target_: lfads_torch.modules.augmentations.AugmentationStack
            reconstruction:
            - _target_: lfads_torch.modules.recons.Poisson
            variational: true
            co_prior:
              _target_: lfads_torch.modules.priors.AutoregressiveMultivariateNormal
              tau: 10.0
              nvar: 0.1
              shape: 4
            ic_prior:
              _target_: lfads_torch.modules.priors.MultivariateNormal
              mean: 0
              variance: 0.1
              shape: 100
            ic_post_var_min: 0.0001
            dropout_rate: 0.05
            cell_clip: 5.0
            loss_scale: 10000.0
            recon_reduce_mean: true
            lr_init: 0.002
            lr_stop: 1e-05
            lr_decay: 0.95
            lr_patience: 6
            lr_adam_beta1: 0.9
            lr_adam_beta2: 0.999
            lr_adam_epsilon: 1e-07
            lr_scheduler: false
            weight_decay: 0.0
            l2_start_epoch: 0
            l2_increase_epoch: 10
            l2_ic_enc_scale: 0.0
            l2_ci_enc_scale: 0.0
            l2_gen_scale: 0.00021600820741402065
            l2_con_scale: 0.00040741446541662336
            kl_start_epoch: 0
            kl_increase_epoch: 100
            kl_ic_scale: 1e-07
            kl_co_scale: 2e-06
          callbacks:
            raster_plot:
              _target_: lfads_torch.callbacks.RasterPlot
              log_every_n_epochs: 100
            trajectory_plot:
              _target_: lfads_torch.callbacks.TrajectoryPlot
              log_every_n_epochs: 100
            model_checkpoint:
              _target_: pytorch_lightning.callbacks.ModelCheckpoint
              monitor: valid/recon_smth
              mode: min
              save_top_k: 1
              save_last: true
              verbose: false
              dirpath: lightning_checkpoints
              auto_insert_metric_name: false
            early_stopping:
              _target_: lfads_torch.extensions.tune.EarlyStoppingWithBurnInPeriod
              monitor: valid/recon_smth
              mode: min
              patience: 10
              min_delta: 0
              burn_in_period: 100
            learning_rate_monitor:
              _target_: pytorch_lightning.callbacks.LearningRateMonitor
              logging_interval: epoch
          seed: 0
          ignore_warnings: false
          trainer:
            _target_: pytorch_lightning.Trainer
            accelerator: mps
            devices: 1
            gradient_clip_val: 200
            max_epochs: 20
            log_every_n_steps: 5
          logger:
            csv_logger:
              _target_: pytorch_lightning.loggers.CSVLogger
              save_dir: csv_logs
              version: ''
              name: ''
            tensorboard_logger:
              _target_: pytorch_lightning.loggers.TensorBoardLogger
              save_dir: tb_logs
              version: ''
              name: ''
          posterior_sampling:
            use_best_ckpt: true
            fn:
              _target_: lfads_torch.post_run.analysis.run_posterior_sampling
              filename: lfads_output.h5
              num_samples: 50
    outs:
    - path: results/lfads/temp
      hash: md5
      md5: 1b9b30d99a28c877ecd10535ad55f4bc.dir
      size: 503362021
      nfiles: 7
